<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Search by Gender</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-4">
		<div th:insert="menu :: navbar"></div>
        <h1>Search by Gender</h1>
        <form th:action="@{/persons/searchByGender}" method="get">
            <div class="form-group">
                <label for="gender">Gender</label>
                <select class="form-control" id="gender" name="gender">
                    <option value="MALE">Male</option>
                    <option value="FEMALE">Female</option>
                    <option value="OTHER">Other</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Search</button>
        </form>

       	    <div class="container mt-4">
	        <h1>List of Persons</h1>
	        <div th:if="${persons}">
	            <table class="table table-bordered table-striped mt-3">
	                <thead class="thead-dark">
	                    <tr>
	                        <th scope="col">ID</th>
	                        <th scope="col">Full Name</th>
	                        <th scope="col">Birthdate</th>
	                        <th scope="col">Gender</th>
	                        <th scope="col">Actions</th>
	                    </tr>
	                </thead>
	                <tbody>
	                    <tr th:each="person : ${persons}">
	                        <td th:text="${person.idPerson}"></td>
	                        <td th:text="${person.fullName}"></td>
	                        <td th:text="${person.birthdate}"></td>
	                        <td th:text="${person.gender.name}"></td>
	                        <td>
	                            <a th:href="@{/persons/{id}(id=${person.idPerson})}" class="btn btn-info btn-sm">View</a>
	                            <a th:href="@{/persons/{id}/edit(id=${person.idPerson})}" class="btn btn-warning btn-sm">Edit</a>
	                            <a th:href="@{/persons/{id}/delete(id=${person.idPerson})}" class="btn btn-danger btn-sm">Delete</a>
	                        </td>
	                    </tr>
	                </tbody>
	            </table>
	        </div>
	        <div th:if="${persons == null}" class="mt-3">
	            <p>No persons found.</p>
	        </div>
	    </div>
	</div>    
</body>
</html>
